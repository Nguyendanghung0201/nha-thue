(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b0ae7ba"],{"0d1c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAARCAYAAAAL4VbbAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGtSURBVHgBdZI7ThxBEIb/Gg/OrB0s2ymTOltLDggc7FhCluXIsQM/LmB8ggVfwHADuICF5MDhboBgAYH2BgM5jxESj53pruLv5v0qaap7pv/+65vqlhfvy2kALSgzaoHWUHXGkXNnyvf4vT6ek5dFaRDEMF/DNDwUWy1hHjabNcCYz1Nq+hZdfXja3NLiyO0KEZ1XwxDeo9r4tHPheR3P323OsEQX2gTH/sGgU1yuyauiLCOCjpgcNKBYnRvFCOW13lY/gljaSUmQES4jJEXKzMLMAYMOfLMJTuQ0ON/FyCZXc7ZhC2jG4YmxMXWFkWadMge4zyWtxA4L8v409eMc6acLN43SVLS00AgZsXZCIseqEWm2Wv+weEvMr8ayEnlNK4It0XGxWpvq30VMDM0PixF+yFf69PRXNSjuCaN4r/96Qaz5feGey4n0snYve1Ac0u7ymxkzNy+IDWxjrPnzqDjE/srkNG/Nkpz3+Fv29l/3UXEIG7nvZn5ooW2q3Wftv19vrj9wKP9zNL7He8EjrysPVxwNvwzvOYeoBh+3kTSfDW5WVecSPJm4XDsDTQUMKtQuM/sAAAAASUVORK5CYII="},"24f5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"nk-content nk-content-fluid pt-0"},[e("div",{staticClass:"search_home"},[e("BookingFormWithFilter",{attrs:{searchText:t.searchText},on:{"search-text-changed":t.searchTextChanged,"value-thietke-change":t.thietke,"value-send-change":t.changevalue,"search-button-clicked":t.searchMap}})],1),t.positon?e("div",{staticClass:"container-xl wide-lg postion"},[t.item?e("FeaturedItem",{staticClass:"featured__carousel__item item_map",attrs:{datapop:t.item},on:{childEvent:t.handleChildEvent}}):t._e(),t.phongto?e("div",{staticClass:"map_zoom_alert",staticStyle:{background:"rgb(255, 255, 255)",border:"2px solid rgb(255, 0, 0)","z-index":"1000","border-radius":"5px",position:"absolute",top:"30%",left:"0px",right:"0px",margin:"auto",width:"460px",height:"46px","line-height":"44px","font-size":"16px","text-align":"center",opacity:"0.9"}},[t._v(" "+t._s(t.$t("bank.phongtobando")))]):t._e(),e("GmapMap",{ref:"mapRef",staticStyle:{width:"100%",height:"600px"},attrs:{center:t.positon.position,zoom:t.zoom,options:t.mapOptions,"map-type-id":"terrain"},on:{zoom_changed:t.someFunc,bounds_changed:t.someFunc}},t._l(t.list,(function(a,i){return e("GmapMarker",{key:i,attrs:{position:a.position,clickable:!0,draggable:!1},on:{click:function(e){return t.showinfor(a.id)}}})})),1)],1):t._e()])},s=[],n=a("87ea"),o=a("bbca"),r=(a("79fa"),a("edff")),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"featured-item"},[e("div",{staticClass:"close"},[e("em",{staticClass:"icon ni ni-cross",on:{click:t.closegame}})]),e("div",{staticClass:"featured-item__image"},[e("img",{staticClass:"featured-item__image-house",attrs:{src:t.datapop.images,alt:""}})]),e("div",{staticClass:"featured-item__title"},[e("router-link",{attrs:{to:"/search-home/detail/"+t.datapop.detail_id}},[e("h3",[t._v(t._s(t.datapop.name))])])],1),e("div",{staticClass:"featured-item__location"},[e("img",{attrs:{src:a("3429"),alt:""}}),e("span",{staticClass:"featured-item__location-text"},[t._v(" "+t._s(t.datapop.address)+" ")])]),e("div",{staticClass:"featured-item__location"},[e("img",{attrs:{src:a("b56c"),alt:""}}),e("span",{staticClass:"featured-item__location-text"},[t._v(" "+t._s(t.datapop.gia_thong)+" ")])]),e("div",{staticClass:"featured-item__price"},[e("img",{attrs:{src:a("0d1c"),alt:""}}),t._v(" "+t._s(t.datapop.price)+" ")]),e("div",{staticClass:"featured-item__button"},[e("button",[e("span",{staticClass:"featured-item__button__text",on:{click:t.showmore}},[t._v(t._s(t.$t("utilities.nha_xem_chi_tiet")))])]),e("img",{attrs:{src:a("f9f1"),alt:""}})])])},l=[],h=(a("14d9"),{props:{datapop:Object},data(){return{list:[],totalItems:10,slideIndex:0}},methods:{showmore(){this.$router.push("/search-home/detail/"+this.datapop.detail_id)},closegame(){this.$emit("childEvent","Nội dung sự kiện từ component con")}},mounted(){}}),d=h,p=(a("9a9e"),a("2877")),u=Object(p["a"])(d,c,l,!1,null,"224f7e32",null),m=u.exports,g={name:"Dashboard",data(){return{mapOptions:{gestureHandling:"greedy"},id:"",item:!1,phongto:!0,loading:!1,price:0,name:"",data:{},list:[],list_goc:[],zoom:6,positon:{position:{lat:34.6937249,lng:135.5022535}},searchText:""}},components:{NoData:o["a"],BookingFormWithFilter:r["a"],FeaturedItem:m},mounted(){this.id=this.$route.params.id,this.id&&this.initdata()},computed:{lang(){return Object(n["d"])()}},methods:{thietke(t){this.list=this.list_goc.filter(e=>{if(0==t.length||4==t.length)return!0;{let a=e.area.toLowerCase();for(let e of t){let t=e.split(",");for(let e of t)if(a.includes(e))return!0}return!1}})},async initdata(){},changevalue(t){let e=1e3*t;this.price=1e3*t,this.list=this.list_goc.filter(t=>{let a=t.price,i=parseInt(a.replace(/,/g,""),10);return i<e})},searchTextChanged(t){""==t&&(this.searchText="",this.list=this.list_goc.map(t=>(t.position={lat:Number(t.lat_map),lng:Number(t.long_map)},t)))},async searchMap(t){try{this.searchText=t,this.list=this.list_goc.filter(t=>{if(""==this.searchText)return!0;let e=t.address,a=t.line,i=t.gia_thong,s=t.name,n=!1;return!!e.includes(this.searchText)||(!!a.includes(this.searchText)||(!!i.includes(this.searchText)||(!!s.includes(this.searchText)||n)))}).map(t=>(t.position={lat:Number(t.lat_map),lng:Number(t.long_map)},t))}catch(e){console.error("Lỗi khi tìm kiếm trên bản đồ:",e)}},handleChildEvent(t){this.item=""},showinfor(t){let e=this.list.filter(e=>e.id==t);e&&1==e.length&&(this.item=e[0])},async someFunc(){if(this.loading)return;this.loading=!0;const t=this.$refs.mapRef.$mapObject.zoom;if(t<11)return this.loading=!1,this.phongto=!0,void(this.list=[]);const e=this.$refs.mapRef.$mapObject.getBounds(),a=e.getNorthEast(),i=e.getSouthWest(),s=a.lat(),n=a.lng(),o=i.lat(),r=i.lng();let c=r,l=n,h=o,d=s,p={lat:h,lng:c,lat2:d,lng2:l,zoom:t};this.phongto=!1;let u=await this.$store.dispatch("Dashboard/getlistbuildMap",p);u&&u.success&&(this.list_goc=u.data,this.list=u.data.filter(t=>{let e=t.address,a=t.line,i=t.gia_thong,s=t.name,n=!1;return!!e.includes(this.searchText)||(!!a.includes(this.searchText)||(!!i.includes(this.searchText)||(!!s.includes(this.searchText)||n)))}).map(t=>(t.position={lat:Number(t.lat_map),lng:Number(t.long_map)},t))),this.loading=!1}},watch:{},metaInfo(){return{title:this.$t("menu.dashboard")}}},f=g,_=(a("f4bb"),a("ace2"),Object(p["a"])(f,i,s,!1,null,"057900c3",null));e["default"]=_.exports},"3b22":function(t,e,a){},7281:function(t,e,a){},"9a9e":function(t,e,a){"use strict";a("3b22")},"9b9b":function(t,e,a){},ace2:function(t,e,a){"use strict";a("7281")},f4bb:function(t,e,a){"use strict";a("9b9b")},f9f1:function(t,e,a){t.exports=a.p+"assets2/1.0/img/button-arrow.bc4f0bf6.png"}}]);