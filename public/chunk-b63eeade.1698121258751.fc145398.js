(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b63eeade"],{"00d8":function(s,o){(function(){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(s,o){return s<<o|s>>>32-o},rotr:function(s,o){return s<<32-o|s>>>o},endian:function(s){if(s.constructor==Number)return 16711935&t.rotl(s,8)|4278255360&t.rotl(s,24);for(var o=0;o<s.length;o++)s[o]=t.endian(s[o]);return s},randomBytes:function(s){for(var o=[];s>0;s--)o.push(Math.floor(256*Math.random()));return o},bytesToWords:function(s){for(var o=[],t=0,e=0;t<s.length;t++,e+=8)o[e>>>5]|=s[t]<<24-e%32;return o},wordsToBytes:function(s){for(var o=[],t=0;t<32*s.length;t+=8)o.push(s[t>>>5]>>>24-t%32&255);return o},bytesToHex:function(s){for(var o=[],t=0;t<s.length;t++)o.push((s[t]>>>4).toString(16)),o.push((15&s[t]).toString(16));return o.join("")},hexToBytes:function(s){for(var o=[],t=0;t<s.length;t+=2)o.push(parseInt(s.substr(t,2),16));return o},bytesToBase64:function(s){for(var t=[],e=0;e<s.length;e+=3)for(var r=s[e]<<16|s[e+1]<<8|s[e+2],a=0;a<4;a++)8*e+6*a<=8*s.length?t.push(o.charAt(r>>>6*(3-a)&63)):t.push("=");return t.join("")},base64ToBytes:function(s){s=s.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],e=0,r=0;e<s.length;r=++e%4)0!=r&&t.push((o.indexOf(s.charAt(e-1))&Math.pow(2,-2*r+8)-1)<<2*r|o.indexOf(s.charAt(e))>>>6-2*r);return t}};s.exports=t})()},"044b":function(s,o){function t(s){return!!s.constructor&&"function"===typeof s.constructor.isBuffer&&s.constructor.isBuffer(s)}function e(s){return"function"===typeof s.readFloatLE&&"function"===typeof s.slice&&t(s.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
s.exports=function(s){return null!=s&&(t(s)||e(s)||!!s._isBuffer)}},1649:function(s,o,t){"use strict";t("58b4")},"17a2":function(s,o,t){"use strict";t("6dc9")},"275f":function(s,o,t){"use strict";t("e812")},3416:function(s,o,t){},"58b4":function(s,o,t){},"5ba1":function(s,o,t){"use strict";t("97d3")},6574:function(s,o,t){},6821:function(s,o,t){(function(){var o=t("00d8"),e=t("9a63").utf8,r=t("044b"),a=t("9a63").bin,i=function(s,t){s.constructor==String?s=t&&"binary"===t.encoding?a.stringToBytes(s):e.stringToBytes(s):r(s)?s=Array.prototype.slice.call(s,0):Array.isArray(s)||s.constructor===Uint8Array||(s=s.toString());for(var n=o.bytesToWords(s),l=8*s.length,c=1732584193,m=-271733879,d=-1732584194,f=271733878,u=0;u<n.length;u++)n[u]=16711935&(n[u]<<8|n[u]>>>24)|4278255360&(n[u]<<24|n[u]>>>8);n[l>>>5]|=128<<l%32,n[14+(l+64>>>9<<4)]=l;var h=i._ff,p=i._gg,g=i._hh,b=i._ii;for(u=0;u<n.length;u+=16){var w=c,v=m,$=d,_=f;c=h(c,m,d,f,n[u+0],7,-680876936),f=h(f,c,m,d,n[u+1],12,-389564586),d=h(d,f,c,m,n[u+2],17,606105819),m=h(m,d,f,c,n[u+3],22,-1044525330),c=h(c,m,d,f,n[u+4],7,-176418897),f=h(f,c,m,d,n[u+5],12,1200080426),d=h(d,f,c,m,n[u+6],17,-1473231341),m=h(m,d,f,c,n[u+7],22,-45705983),c=h(c,m,d,f,n[u+8],7,1770035416),f=h(f,c,m,d,n[u+9],12,-1958414417),d=h(d,f,c,m,n[u+10],17,-42063),m=h(m,d,f,c,n[u+11],22,-1990404162),c=h(c,m,d,f,n[u+12],7,1804603682),f=h(f,c,m,d,n[u+13],12,-40341101),d=h(d,f,c,m,n[u+14],17,-1502002290),m=h(m,d,f,c,n[u+15],22,1236535329),c=p(c,m,d,f,n[u+1],5,-165796510),f=p(f,c,m,d,n[u+6],9,-1069501632),d=p(d,f,c,m,n[u+11],14,643717713),m=p(m,d,f,c,n[u+0],20,-373897302),c=p(c,m,d,f,n[u+5],5,-701558691),f=p(f,c,m,d,n[u+10],9,38016083),d=p(d,f,c,m,n[u+15],14,-660478335),m=p(m,d,f,c,n[u+4],20,-405537848),c=p(c,m,d,f,n[u+9],5,568446438),f=p(f,c,m,d,n[u+14],9,-1019803690),d=p(d,f,c,m,n[u+3],14,-187363961),m=p(m,d,f,c,n[u+8],20,1163531501),c=p(c,m,d,f,n[u+13],5,-1444681467),f=p(f,c,m,d,n[u+2],9,-51403784),d=p(d,f,c,m,n[u+7],14,1735328473),m=p(m,d,f,c,n[u+12],20,-1926607734),c=g(c,m,d,f,n[u+5],4,-378558),f=g(f,c,m,d,n[u+8],11,-2022574463),d=g(d,f,c,m,n[u+11],16,1839030562),m=g(m,d,f,c,n[u+14],23,-35309556),c=g(c,m,d,f,n[u+1],4,-1530992060),f=g(f,c,m,d,n[u+4],11,1272893353),d=g(d,f,c,m,n[u+7],16,-155497632),m=g(m,d,f,c,n[u+10],23,-1094730640),c=g(c,m,d,f,n[u+13],4,681279174),f=g(f,c,m,d,n[u+0],11,-358537222),d=g(d,f,c,m,n[u+3],16,-722521979),m=g(m,d,f,c,n[u+6],23,76029189),c=g(c,m,d,f,n[u+9],4,-640364487),f=g(f,c,m,d,n[u+12],11,-421815835),d=g(d,f,c,m,n[u+15],16,530742520),m=g(m,d,f,c,n[u+2],23,-995338651),c=b(c,m,d,f,n[u+0],6,-198630844),f=b(f,c,m,d,n[u+7],10,1126891415),d=b(d,f,c,m,n[u+14],15,-1416354905),m=b(m,d,f,c,n[u+5],21,-57434055),c=b(c,m,d,f,n[u+12],6,1700485571),f=b(f,c,m,d,n[u+3],10,-1894986606),d=b(d,f,c,m,n[u+10],15,-1051523),m=b(m,d,f,c,n[u+1],21,-2054922799),c=b(c,m,d,f,n[u+8],6,1873313359),f=b(f,c,m,d,n[u+15],10,-30611744),d=b(d,f,c,m,n[u+6],15,-1560198380),m=b(m,d,f,c,n[u+13],21,1309151649),c=b(c,m,d,f,n[u+4],6,-145523070),f=b(f,c,m,d,n[u+11],10,-1120210379),d=b(d,f,c,m,n[u+2],15,718787259),m=b(m,d,f,c,n[u+9],21,-343485551),c=c+w>>>0,m=m+v>>>0,d=d+$>>>0,f=f+_>>>0}return o.endian([c,m,d,f])};i._ff=function(s,o,t,e,r,a,i){var n=s+(o&t|~o&e)+(r>>>0)+i;return(n<<a|n>>>32-a)+o},i._gg=function(s,o,t,e,r,a,i){var n=s+(o&e|t&~e)+(r>>>0)+i;return(n<<a|n>>>32-a)+o},i._hh=function(s,o,t,e,r,a,i){var n=s+(o^t^e)+(r>>>0)+i;return(n<<a|n>>>32-a)+o},i._ii=function(s,o,t,e,r,a,i){var n=s+(t^(o|~e))+(r>>>0)+i;return(n<<a|n>>>32-a)+o},i._blocksize=16,i._digestsize=16,s.exports=function(s,t){if(void 0===s||null===s)throw new Error("Illegal argument "+s);var e=o.wordsToBytes(i(s,t));return t&&t.asBytes?e:t&&t.asString?a.bytesToString(e):o.bytesToHex(e)}})()},"6dc9":function(s,o,t){},"77e4":function(s,o,t){"use strict";t("8878")},"7a6b":function(s,o,t){"use strict";t("3416")},8878:function(s,o,t){},"89b2":function(s,o,t){"use strict";t("9e62")},"97d3":function(s,o,t){},"9a63":function(s,o){var t={utf8:{stringToBytes:function(s){return t.bin.stringToBytes(unescape(encodeURIComponent(s)))},bytesToString:function(s){return decodeURIComponent(escape(t.bin.bytesToString(s)))}},bin:{stringToBytes:function(s){for(var o=[],t=0;t<s.length;t++)o.push(255&s.charCodeAt(t));return o},bytesToString:function(s){for(var o=[],t=0;t<s.length;t++)o.push(String.fromCharCode(s[t]));return o.join("")}}};s.exports=t},"9a75":function(s,o,t){"use strict";t("b1e9")},"9e62":function(s,o,t){},a135:function(s,o,t){"use strict";t.r(o);var e=function(){var s=this,o=s._self._c;return o("div",[o("div",{staticClass:"nk-split nk-split-page nk-split-md flex-direction-reverse"},[s.showForgotPasswordForm||s.showResetPasswordForm||s.showRegister||s.showConfirm?s._e():o("login-form",{on:{forgotPassword:s.handleForgot,register:s.handleRegister}}),s.showRegister?o("register",{on:{backLogin:s.handleBackLogin,confirm:s.handleConfirm}}):s._e(),o("div",{staticClass:"nk-split-content nk-split-stretch bg-abstract"})],1)])},r=[],a=function(){var s=this,o=s._self._c;return o("div",{staticClass:"nk-split-content nk-block-area nk-block-area-column nk-auth-container bg-white"},[o("div",{staticClass:"nk-block nk-block-middle nk-auth-body"},[o("div",{staticClass:"nk-block-head"},[o("div",{staticClass:"nk-block-head-content"},[o("h5",{staticClass:"nk-block-title"},[s._v(s._s(s.$t("login.login")))]),o("div",{staticClass:"nk-block-des"},[o("p",[s._v(s._s(s.$t("login.login_subtitle")))])])])]),s.showError?o("div",{staticClass:"alert alert-danger d-flex align-center"},[o("em",{staticClass:"icon ni ni-cross-circle fs-18px mr-2"}),s._v(" "+s._s(s.$t("message.login_failed_2"))+" ")]):s._e(),o("form",{on:{submit:function(o){return o.preventDefault(),s.handleSubmit.apply(null,arguments)}}},[o("b-form-group",{attrs:{"invalid-feedback":s.showHtmlError("email","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("email","form",!0))+" ")])]},proxy:!0}])},[o("b-form-input",{ref:"autofocus",class:{"is-invalid":s.showHtmlError("email","form")},attrs:{placeholder:s.getLabel("email","form"),autocomplete:"off",type:"email",counter:s.getInputMaxLength("email","form"),size:"lg"},on:{keyup:s.resetError},model:{value:s.$v.form.email.$model,callback:function(o){s.$set(s.$v.form.email,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.email.$model"}})],1),o("b-form-group",{staticClass:"mb-2",attrs:{"invalid-feedback":s.showHtmlError("password","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("password","form",!0))+" ")]),o("p",{staticClass:"link link-primary link-sm cursor-pointer",on:{click:s.forgot}},[s._v(" "+s._s(s.$t("login.forgot_password"))+"? ")])]},proxy:!0}])},[o("div",{staticClass:"form-control-wrap"},[o("span",{staticClass:"form-icon form-icon-right passcode-switch cursor",on:{click:function(o){s.showPassword=!s.showPassword}}},[s.showPassword?o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye-off"}):o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye"})]),o("b-form-input",{class:{"is-invalid":s.showHtmlError("password","form")},attrs:{type:s.showPassword?"text":"password",placeholder:s.getLabel("password","form"),counter:s.getInputMaxLength("password","form"),size:"lg"},on:{keyup:s.resetError},model:{value:s.$v.form.password.$model,callback:function(o){s.$set(s.$v.form.password,"$model",o)},expression:"$v.form.password.$model"}})],1)]),o("div",{staticClass:"form-group"},[o("b-button",{attrs:{size:"lg",variant:"primary",block:"",type:"submit",disabled:s.requestLoading||s.$v.form.$error||!s.form.email||!s.form.password}},[s.requestLoading?o("span",{staticClass:"spinner-border spinner-border-sm mr-2",attrs:{role:"status"}}):s._e(),o("span",{staticClass:"visually-hidden"},[s._v("Loading...")]),s._v(" "+s._s(s.$t("login.login"))+" ")])],1)],1),o("div",{staticClass:"form-note-s2 pt-4"},[o("p",[s._v(" "+s._s(s.$t("login.redirect_signup"))+" "),o("span",{staticClass:"link link-primary fs-14px cursor-pointer",on:{click:s.register}},[s._v(s._s(s.$t("login.register")))])])])])])},i=[],n=(t("14d9"),t("6821")),l=t.n(n);const{validators:c}=window,{email:m,required:d,phone:f,isTrue:u,$label:h,maxLength:p,minLength:g,minValue:b}=c;var w={name:"LoginForm",validations(){const s={password:{required:d,$label:h(this.$t("login.password")),minLength:g(6),maxLength:p(20)},email:{required:d,email:m,$label:h(this.$t("login.email")),maxLength:p(50)}};return{form:s}},data(){return{form:{email:null,password:null},showPassword:!1,requestLoading:!1,showError:!1}},mounted(){const s=this.$recaptchaInstance;s&&s.showBadge()},beforeRouteLeave(){const s=this.$recaptchaInstance;s&&s.hideBadge()},methods:{handleSubmit(){this.$v.form.$touch();const s=this.$v.form.$error;if(this.showError=!1,!s){const{password:s,email:o}=this.form;let t={password:s,username:o};this.requestLoading=!0,this.$store.dispatch("Auth/login",t).then(s=>{this.$router.replace(this.$route.query.redirect?this.$route.query.redirect:{name:"dashboard.index"})}).catch(s=>{this.showError=!0,this.resetForm(),this.$awnAlert(this.$t("message.login_failed")),this.requestLoading=!1})}},forgot(){this.$emit("forgotPassword",!0),this.$router.push({name:"auth.forgot"})},register(){this.$emit("register",!0),this.$router.push({name:"auth.register"})},resetForm(){this.form.password=null,this.$v.$reset()},resetError(){this.showError=!1}}},v=w,$=(t("9a75"),t("f612"),t("2877")),_=Object($["a"])(v,a,i,!1,null,"74bcc53f",null),k=_.exports,y=function(){var s=this,o=s._self._c;return o("div",{staticClass:"login-wrapper px-4 border-radius-10"},[o("div",{staticClass:"nk-block nk-block-middle nk-auth-body"},[o("div",{staticClass:"nk-block-head"},[o("div",{staticClass:"nk-block-head-content text-center"},[o("h5",{staticClass:"nk-block-title fs-22px"},[s._v(s._s(s.$t("login.forgot_password")))]),o("div",{staticClass:"nk-block-des"},[o("p",[s._v(s._s(s.$t("login.forgot_message")))])])])]),o("forgot-form",{on:{backLogin:s.handleBackLogin,resetPassword:s.handleReset}})],1),s._m(0)])},C=[function(){var s=this,o=s._self._c;return o("div",{staticClass:"nk-block nk-auth-footer text-center"},[o("div",{staticClass:"mt-3"},[o("p",[s._v("© 2022 ePayGate Agent. ")])])])}],L=function(){var s=this,o=s._self._c;return o("b-form",{attrs:{autocomplete:"off"},on:{submit:function(s){s.preventDefault()}}},[o("b-form-group",{attrs:{"invalid-feedback":s.showHtmlError("email","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("email","form",!0))+" ")])]},proxy:!0}])},[o("b-form-input",{ref:"autofocus",class:{"is-invalid":s.showHtmlError("email","form")},attrs:{placeholder:s.getLabel("email","form"),autocomplete:"off",type:"email",counter:s.getInputMaxLength("email","form"),size:"lg"},model:{value:s.$v.form.email.$model,callback:function(o){s.$set(s.$v.form.email,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.email.$model"}})],1),o("div",{staticClass:"form-group"},[o("b-button",{attrs:{size:"lg",variant:"primary",block:"",type:"submit",disabled:s.requestLoading||s.$v.form.$error||!s.form.email},on:{click:s.handleSubmit}},[s.requestLoading?o("span",{staticClass:"spinner-border spinner-border-sm mr-2",attrs:{role:"status"}}):s._e(),o("span",{staticClass:"visually-hidden"},[s._v("Loading...")]),s._v(" "+s._s(s.$t("login.get_verification_code"))+" ")])],1),o("p",{staticClass:"link link-primary fs-14px cursor-pointer w-100 d-flex justify-content-end",on:{click:s.backLogin}},[s._v(" "+s._s(s.$t("login.return_login"))+" ")])],1)},x=[];const{validators:F}=window,{email:P,required:q,phone:E,$label:R,maxLength:S}=F;var B={name:"ForgotForm",validations(){const s={email:{required:q,email:P,$label:R(this.$t("login.email")),maxLength:S(50)}};return{form:s}},data(){return{form:{email:null},requestLoading:!1}},methods:{handleSubmit(){this.$v.form.$touch();const s=this.$v.form.$error;if(!s){this.requestLoading=!0;let s={email:this.form.email};this.$store.dispatch("Auth/checkEmail",s).then(o=>{this.$store.dispatch("Auth/confirm",s).then(s=>{this.$awnSuccess(this.$t("message.email_check")),this.$emit("resetPassword",!0)}).catch(s=>{this.setFormError(s),this.$emit("backLogin",!1),this.requestLoading=!1})}).catch(s=>{this.setFormError(s),this.$emit("backLogin",!1),this.requestLoading=!1})}},backLogin(){this.$emit("backLogin",!1),this.$router.push({name:"auth.login"})}}},A=B,H=(t("1649"),Object($["a"])(A,L,x,!1,null,"74e64e55",null)),T=H.exports,I={name:"Forgot",components:{ForgotForm:T},methods:{handleBackLogin(s){this.$emit("backLogin",s)},handleReset(s){this.$emit("resetPassword",s)}}},z=I,j=Object($["a"])(z,y,C,!1,null,null,null),O=j.exports,M=function(){var s=this,o=s._self._c;return o("div",{staticClass:"login-wrapper px-4 border-radius-10"},[o("div",{staticClass:"nk-block nk-block-middle nk-auth-body me-0"},[o("div",{staticClass:"nk-block-head"},[o("div",{staticClass:"nk-block-head-content text-center"},[o("h5",{staticClass:"nk-block-title fs-22px"},[s._v(s._s(s.$t("login.reset_password")))]),o("div",{staticClass:"nk-block-des"},[o("p",[s._v(s._s(s.$t("login.remind_message")))])])])]),o("reset-form",{on:{backLogin:s.handleBackLogin,backForgot:s.handleBackForgot}})],1),s._m(0)])},D=[function(){var s=this,o=s._self._c;return o("div",{staticClass:"nk-block nk-auth-footer text-center"},[o("div",{staticClass:"mt-3"},[o("p",[s._v("© 2022 ePayGate Agent. ")])])])}],G=function(){var s=this,o=s._self._c;return o("b-form",{attrs:{"aria-autocomplete":"off"},on:{submit:function(o){return o.preventDefault(),s.handleSubmit.apply(null,arguments)}}},[o("b-form-group",{attrs:{"label-class":"form-label-group","invalid-feedback":s.showHtmlError("code","form")},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("code","form",!0))+" ")])]},proxy:!0}])},[o("div",{staticClass:"form-control-wrap"},[o("b-form-input",{class:{"is-invalid":s.showHtmlError("code","form")},attrs:{id:"code-input",type:"number",autocomplete:"off",placeholder:s.getLabel("code","form"),size:"lg"},model:{value:s.$v.form.code.$model,callback:function(o){s.$set(s.$v.form.code,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.code.$model"}})],1)]),o("b-form-group",{attrs:{"label-class":"form-label-group","invalid-feedback":s.showHtmlError("password","form")},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("password","form",!0))+" ")])]},proxy:!0}])},[o("div",{staticClass:"form-control-wrap"},[o("span",{staticClass:"form-icon form-icon-right passcode-switch cursor",on:{click:function(o){s.showPassword=!s.showPassword}}},[s.showPassword?o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye-off"}):o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye"})]),o("b-form-input",{class:{"is-invalid":s.showHtmlError("password","form")},attrs:{type:s.showPassword?"text":"password",autocomplete:"off",placeholder:s.getLabel("password","form"),size:"lg"},model:{value:s.$v.form.password.$model,callback:function(o){s.$set(s.$v.form.password,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.password.$model"}})],1),o("span",{staticClass:"fs-12px mt-2",class:{"d-none":s.showHtmlError("password","form"),"d-none":null!==s.form.password}},[s._v("* "+s._s(s.$t("message.password_format")))])]),o("b-form-group",{staticClass:"mb-3",attrs:{"invalid-feedback":s.showHtmlError("new_password","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("new_password","form",!0))+" ")])]},proxy:!0}])},[o("div",{staticClass:"form-control-wrap"},[o("span",{staticClass:"form-icon form-icon-right passcode-switch cursor",on:{click:function(o){s.showConfirmPassword=!s.showConfirmPassword}}},[s.showPassword?o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye-off"}):o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye"})]),o("b-form-input",{class:{"is-invalid":s.showHtmlError("new_password","form")},attrs:{type:s.showPassword?"text":"password",autocomplete:"off",placeholder:s.getLabel("new_password","form"),size:"lg"},model:{value:s.$v.form.new_password.$model,callback:function(o){s.$set(s.$v.form.new_password,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.new_password.$model"}})],1)]),o("p",{staticClass:"link link-primary fs-14px cursor-pointer w-100 d-flex justify-content-end mb-4",on:{click:s.backLogin}},[s._v(" "+s._s(s.$t("login.return_login"))+" ")]),o("div",{staticClass:"form-group"},[o("b-button",{attrs:{size:"lg",variant:"primary",block:"",type:"submit",disabled:s.requestLoading||s.$v.form.$error||!s.form.code||!s.form.password||!s.form.new_password}},[s.requestLoading?o("span",{staticClass:"spinner-border spinner-border-sm mr-2",attrs:{role:"status"}}):s._e(),o("span",{staticClass:"visually-hidden"},[s._v("Loading...")]),s._v(" "+s._s(s.$t("login.reset_password"))+" ")])],1)],1)},N=[];const{validators:V}=window,{email:J,required:U,phone:W,$label:Z,sameAs:K,minLength:Q,maxLength:X,numeric:Y,password:ss}=V;var os={name:"LoginForm",validations(){const s={code:{required:U,numeric:Y,minLength:Q(6),$label:Z(this.$t("utilities.verification_code"))},password:{required:U,password:ss,$label:Z(this.$t("utilities.new_password")),minLength:Q(8),maxLength:X(32)},new_password:{required:U,sameAs:K("password"),$label:Z(this.$t("utilities.confirm_password")),sameLabel:Z(this.$t("utilities.new_password")),minLength:Q(8),maxLength:X(32)}};return{form:s}},data(){return{form:{code:null,new_password:null,password:null},showPassword:!1,showConfirmPassword:!1,requestLoading:!1}},mounted(){this.resetForm()},methods:{handleSubmit(){this.$v.form.$touch();const s=this.$v.form.$error;if(!s){this.requestLoading=!0;const{code:s,new_password:o,password:t}=this.form;let e={code:s,password:l()(l()(t)),confirm_password:l()(l()(o))};this.$store.dispatch("Auth/forgot",e).then(s=>{this.$awnSuccess(this.$t("message.change_password_successfully")),this.$emit("backLogin",!1)})}},backLogin(){this.$emit("backLogin",!1)},resetForm(){this.form.code=null,this.form.new_password=null,this.form.password=null}}},ts=os,es=(t("17a2"),t("5ba1"),Object($["a"])(ts,G,N,!1,null,"7774c0fa",null)),rs=es.exports,as={name:"Reset",components:{ResetForm:rs},methods:{handleBackLogin(s){this.$emit("backLogin",s)},handleBackForgot(s){this.$emit("backForgot",s)}}},is=as,ns=(t("77e4"),Object($["a"])(is,M,D,!1,null,"65ee057b",null)),ls=ns.exports,cs=function(){var s=this,o=s._self._c;return o("div",{staticClass:"nk-split-content nk-block-area nk-block-area-column nk-auth-container bg-white"},[o("div",{staticClass:"nk-block nk-block-middle nk-auth-body"},[o("div",{staticClass:"nk-block-head"},[o("div",{staticClass:"nk-block-head-content text-center"},[o("h5",{staticClass:"nk-block-title fs-22px"},[s._v(s._s(s.$t("login.register")))]),o("div",{staticClass:"nk-block-des"},[o("p",[s._v(s._s(s.$t("login.register_subtitle")))])])])]),o("register-form",{on:{backLogin:s.handleBackLogin,confirm:s.handleConfirm}})],1)])},ms=[],ds=function(){var s=this,o=s._self._c;return o("form",{attrs:{autocomplete:"off"},on:{submit:function(s){s.preventDefault()}}},[o("b-form-group",{attrs:{"invalid-feedback":s.showHtmlError("email","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("email","form",!0))+" ")])]},proxy:!0}])},[o("b-form-input",{ref:"autofocus",class:{"is-invalid":s.showHtmlError("email","form")},attrs:{placeholder:s.getLabel("email","form"),autocomplete:"off",type:"email",counter:s.getInputMaxLength("email","form"),size:"lg"},model:{value:s.$v.form.email.$model,callback:function(o){s.$set(s.$v.form.email,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.email.$model"}})],1),o("b-form-group",{staticClass:"mb-2",attrs:{"invalid-feedback":s.showHtmlError("password","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("password","form",!0))+" ")])]},proxy:!0}])},[o("div",{staticClass:"form-control-wrap"},[o("span",{staticClass:"form-icon form-icon-right passcode-switch cursor",on:{click:function(o){s.showPassword=!s.showPassword}}},[s.showPassword?o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye-off"}):o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye"})]),o("b-form-input",{class:{"is-invalid":s.showHtmlError("password","form")},attrs:{type:s.showPassword?"text":"password",autocomplete:"off",placeholder:s.getLabel("password","form"),counter:s.getInputMaxLength("password","form"),size:"lg"},model:{value:s.$v.form.password.$model,callback:function(o){s.$set(s.$v.form.password,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.password.$model"}})],1),o("span",{staticClass:"fs-12px mt-2"},[s._v("* "+s._s(s.$t("message.password_format")))])]),o("b-form-group",{staticClass:"mb-2",attrs:{"invalid-feedback":s.showHtmlError("confirm_password","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("confirm_password","form",!0))+" ")])]},proxy:!0}])},[o("div",{staticClass:"form-control-wrap"},[o("span",{staticClass:"form-icon form-icon-right passcode-switch cursor",on:{click:function(o){s.showConfirmPassword=!s.showConfirmPassword}}},[s.showConfirmPassword?o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye-off"}):o("em",{staticClass:"passcode-icon icon-show icon ni ni-eye"})]),o("b-form-input",{class:{"is-invalid":s.showHtmlError("confirm_password","form")},attrs:{type:s.showConfirmPassword?"text":"password",autocomplete:"off",placeholder:s.getLabel("confirm_password","form"),counter:s.getInputMaxLength("confirm_password","form"),size:"lg"},model:{value:s.$v.form.confirm_password.$model,callback:function(o){s.$set(s.$v.form.confirm_password,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.confirm_password.$model"}})],1)]),o("b-form-group",{attrs:{"invalid-feedback":s.showHtmlError("display_name","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("display_name","form",!0))+" ")])]},proxy:!0}])},[o("b-form-input",{ref:"autofocus",class:{"is-invalid":s.showHtmlError("display_name","form")},attrs:{placeholder:s.getLabel("display_name","form"),autocomplete:"off",type:"email",counter:s.getInputMaxLength("display_name","form"),size:"lg"},model:{value:s.$v.form.display_name.$model,callback:function(o){s.$set(s.$v.form.display_name,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.display_name.$model"}})],1),o("b-form-group",{staticClass:"flex-grow-1 mb-2",attrs:{"invalid-feedback":s.showHtmlError("phone","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("phone","form",!0))+" ")])]},proxy:!0}])},[o("div",{staticClass:"form-control-wrap"},[o("b-form-input",{class:{"is-invalid":s.showHtmlError("phone","form")},attrs:{type:"tel",autocomplete:"off",placeholder:s.getLabel("phone","form"),size:"lg"},model:{value:s.$v.form.phone.$model,callback:function(o){s.$set(s.$v.form.phone,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.phone.$model"}})],1),s.isMaxPhone&&!s.showHtmlError("phone","form")?o("span",{staticClass:"text-danger mt-1 fs-12px"},[s._v(s._s(s.$t("message.phone_error")))]):s._e()]),o("b-form-group",{scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label m-0"},[s._v(" "+s._s(s.getLabel("gender","form",!0))+" ")])]},proxy:!0}])},[o("b-form-radio",{attrs:{name:"some-radios",value:"1"},model:{value:s.$v.form.gender.$model,callback:function(o){s.$set(s.$v.form.gender,"$model",o)},expression:"$v.form.gender.$model"}},[o("label",{staticClass:"form-label mr-2"},[s._v(" "+s._s(s.$t("login.man"))+" ")])]),o("b-form-radio",{attrs:{name:"some-radios",value:"0"},model:{value:s.$v.form.gender.$model,callback:function(o){s.$set(s.$v.form.gender,"$model",o)},expression:"$v.form.gender.$model"}},[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.$t("login.woman"))+" ")])])],1),o("p",{staticClass:"text-right"},[o("span",{staticClass:"link link-primary fs-14px cursor-pointer",on:{click:s.backLogin}},[s._v(s._s(s.$t("login.return_login")))])]),o("div",{staticClass:"form-group"},[o("b-button",{attrs:{size:"lg",variant:"primary",block:"",type:"submit",disabled:s.requestLoading||s.$v.form.$error||!s.form.email||!s.form.password||!s.form.confirm_password||!s.form.phone||s.isMaxPhone},on:{click:s.handleSubmit}},[s.requestLoading?o("span",{staticClass:"spinner-border spinner-border-sm mr-2",attrs:{role:"status"}}):s._e(),o("span",{staticClass:"visually-hidden"},[s._v("Loading...")]),s._v(" "+s._s(s.$t("login.register"))+" ")])],1)],1)},fs=[];const{validators:us}=window,{email:hs,required:ps,phone:gs,isTrue:bs,$label:ws,maxLength:vs,minLength:$s,minValue:_s,sameAs:ks,password:ys,isPhone:Cs}=us;var Ls={name:"RegisterForm",validations(){const s={password:{required:ps,password:ys,$label:ws(this.$t("login.password")),minLength:$s(8),maxLength:vs(32)},confirm_password:{required:ps,sameAs:ks("password"),$label:ws(this.$t("login.confirm_password")),sameLabel:ws(this.$t("utilities.new_password")),maxLength:vs(32)},email:{required:ps,email:hs,$label:ws(this.$t("login.email")),maxLength:vs(50)},phone:{required:ps,isPhone:Cs,$label:ws(this.$t("login.phone")),minLength:$s(10)},display_name:{required:ps,minLength:$s(6),$label:ws(this.$t("login.display_name"))},gender:{required:ps,$label:ws(this.$t("login.gender"))}};return{form:s}},data(){return{form:{email:null,password:null,confirm_password:null,phone:null,display_name:null,gender:"1",ref:""},showPassword:!1,showConfirmPassword:!1,requestLoading:!1,isMaxPhone:!1}},methods:{handleSubmit(){this.$v.form.$touch();const s=this.$v.form.$error;if(!s){localStorage.setItem("REGISTER_INFO",JSON.stringify(this.form));const{email:s,password:o,phone:t,display_name:e,gender:r,confirm_password:a,ref:i}=this.form,n={username:s,password:o,display_name:e,re_password:a,phone:t,gender:r,ref:i};this.requestLoading=!0,this.$store.dispatch("Auth/register",n).then(s=>{this.$awnSuccess(this.$t("message.signup_successfully")),this.$emit("backLogin",!1)}).catch(s=>{506===s.code?this.$awnAlert(this.$t("message.code_error")):this.$awnAlert(this.$t("message.code_incorrect")),this.count++,5===+this.count&&this.$emit("backRegister",!1)}).finally(()=>{this.requestLoading=!1})}},backLogin(){this.$emit("backLogin",!1),this.$router.push({name:"auth.login"})}},watch:{"form.phone"(s){if(s){let o=s.split("").length;this.isMaxPhone=o>12}}},mounted(){this.$route.query&&this.$route.query.ref&&(this.form.ref=this.$route.query.ref)}},xs=Ls,Fs=(t("7a6b"),t("89b2"),Object($["a"])(xs,ds,fs,!1,null,"c495bcbc",null)),Ps=Fs.exports,qs={name:"Forgot",components:{RegisterForm:Ps},data(){return{title:""}},created(){window.addEventListener("popstate",this.onBackButtonEvent),history.pushState(null,null,location.href)},beforeDestroy(){window.removeEventListener("popstate",this.onBackButtonEvent)},methods:{handleBackLogin(s){this.$emit("backLogin",s)},handleConfirm(s){this.$emit("confirm",s)},onBackButtonEvent(s,o){s.preventDefault(),this.$emit("backLogin",o),this.$router.go(-1)}},mounted(){}},Es=qs,Rs=(t("275f"),t("eb81"),Object($["a"])(Es,cs,ms,!1,null,"279a16ee",null)),Ss=Rs.exports,Bs=function(){var s=this,o=s._self._c;return o("div",{staticClass:"login-wrapper px-4 border-radius-10"},[o("div",{staticClass:"nk-block nk-block-middle nk-auth-body me-0"},[o("div",{staticClass:"nk-block-head"},[o("div",{staticClass:"nk-block-head-content text-center"},[o("h5",{staticClass:"nk-block-title fs-22px"},[s._v(s._s(s.$t("login.code")))]),o("div",{staticClass:"nk-block-des"},[o("p",[s._v(s._s(s.$t("login.code_message")))])])])]),o("verification-from",{on:{backRegister:s.backRegister,backLogin:s.backLogin}})],1),s._m(0)])},As=[function(){var s=this,o=s._self._c;return o("div",{staticClass:"nk-block nk-auth-footer text-center"},[o("div",{staticClass:"mt-3"},[o("p",[s._v("© 2022 ePayGate Agent. ")])])])}],Hs=function(){var s=this,o=s._self._c;return o("b-form",{attrs:{autocomplete:"off"},on:{submit:function(o){return o.preventDefault(),s.handleSubmit.apply(null,arguments)}}},[o("b-form-group",{attrs:{"invalid-feedback":s.showHtmlError("code","form"),"label-class":"form-label-group"},scopedSlots:s._u([{key:"label",fn:function(){return[o("label",{staticClass:"form-label"},[s._v(" "+s._s(s.getLabel("code","form",!0))+" ")])]},proxy:!0}])},[o("b-form-input",{ref:"autofocus",class:{"is-invalid":s.showHtmlError("code","form")},attrs:{placeholder:s.getLabel("code","form"),autocomplete:"off",type:"number",size:"lg"},model:{value:s.$v.form.code.$model,callback:function(o){s.$set(s.$v.form.code,"$model","string"===typeof o?o.trim():o)},expression:"$v.form.code.$model"}})],1),o("div",{staticClass:"form-group"},[o("b-button",{attrs:{size:"lg",variant:"primary",block:"",type:"submit",disabled:s.requestLoading||s.$v.form.$error||!s.form.code}},[s.requestLoading?o("span",{staticClass:"spinner-border spinner-border-sm mr-2",attrs:{role:"status"}}):s._e(),o("span",{staticClass:"visually-hidden"},[s._v("Loading...")]),s._v(" "+s._s(s.$t("button.confirm"))+" ")])],1),o("p",{staticClass:"link link-primary fs-13px cursor-pointer w-100 d-flex justify-content-end",on:{click:s.backRegister}},[s._v(" "+s._s(s.$t("login.return_register"))+" ")])],1)},Ts=[];const{validators:Is}=window,{required:zs,$label:js,minLength:Os}=Is;var Ms={name:"VerificationForm",validations(){const s={code:{required:zs,$label:js(this.$t("login.code")),minLength:Os(6)}};return{form:s}},data(){return{form:{code:null},requestLoading:!1,count:0}},methods:{handleSubmit(){this.$v.form.$touch();const s=this.$v.form.$error;if(!s){this.$v.form.$touch();const s=this.$v.form.$error;if(!s){let s=localStorage.getItem("REGISTER_INFO"),o=JSON.parse(s),t={email:o.email,password:l()(l()(o.password)),code:this.form.code,phone:o.phone};this.requestLoading=!0,this.$store.dispatch("Auth/register",t).then(s=>{this.$awnSuccess(this.$t("message.signup_successfully")),this.$emit("backLogin",!1)}).catch(s=>{506===s.code?this.$awnAlert(this.$t("message.code_error")):this.$awnAlert(this.$t("message.code_incorrect")),this.count++,5===+this.count&&this.$emit("backRegister",!1)}).finally(()=>{this.requestLoading=!1})}}},backRegister(){this.$emit("backRegister",!1),this.$router.push({name:"auth.register"})}}},Ds=Ms,Gs=Object($["a"])(Ds,Hs,Ts,!1,null,null,null),Ns=Gs.exports,Vs={name:"Forgot",components:{VerificationFrom:Ns},methods:{backRegister(s){this.$emit("backRegister",s)},backLogin(s){this.$emit("backLogin",s)}}},Js=Vs,Us=(t("a5cb"),Object($["a"])(Js,Bs,As,!1,null,"34c7e0e5",null)),Ws=Us.exports,Zs=t("79fa"),Ks={name:"Login",components:{LoginForm:k,Forgot:O,Reset:ls,Register:Ss,Verification:Ws},data(){return{showForgotPasswordForm:!1,showResetPasswordForm:!1,showRegister:!1,showConfirm:!1,ok:!0,router:this.$route.name||"auth.login"}},methods:{checkInfo(){this.$store.dispatch("Auth/info").catch(s=>{this.$awn.alert(this.$t("auth.loginRequired"))}).then(s=>{})},handleForgot(s){this.showResetPasswordForm=!1,this.showForgotPasswordForm=s},handleReset(s){this.showForgotPasswordForm=!1,this.showResetPasswordForm=s},handleBackLogin(s){this.showConfirm=s,this.showRegister=s,this.showForgotPasswordForm=s,this.showResetPasswordForm=s},handleRegister(s){this.router="auth.register",this.showRegister=s},handleConfirm(s){this.showConfirm=s,this.showRegister=!1},handleBackRegister(s){this.showConfirm=s,this.showRegister=!0},handleBackForgot(s){this.showResetPasswordForm=s,this.showForgotPasswordForm=!0}},mounted(){this.$store.dispatch("Auth/resetToken").then()},watch:{router:{immediate:!0,handler(s,o){s&&"auth.register"===s&&(this.showRegister=!0),s&&"auth.login"===s&&(this.showConfirm=!1,this.showRegister=!1,this.showForgotPasswordForm=!1,this.showResetPasswordForm=!1),s&&"auth.forgot"===s&&(this.showResetPasswordForm=!1,this.showForgotPasswordForm=!0)}}},metaInfo(){return{title:Zs["a"].t("login.login")}}},Qs=Ks,Xs=(t("e1ec"),t("f241"),Object($["a"])(Qs,e,r,!1,null,"636673b0",null));o["default"]=Xs.exports},a485:function(s,o,t){},a5cb:function(s,o,t){"use strict";t("6574")},b1e9:function(s,o,t){},ba10:function(s,o,t){},d816:function(s,o,t){},e1ec:function(s,o,t){"use strict";t("ba10")},e524:function(s,o,t){},e812:function(s,o,t){},eb81:function(s,o,t){"use strict";t("e524")},f241:function(s,o,t){"use strict";t("a485")},f612:function(s,o,t){"use strict";t("d816")}}]);