(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216fd5"],{c58e:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t._self._c;return a("div",{staticClass:"nk-content nk-content-fluid"},[a("div",{staticClass:"card card-bordered h-100"},[a("div",{staticClass:"card-inner"},[t._m(0),a("div",[a("div",{staticClass:"row g-4"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"full-name"}},[t._v("tên tiêu đề")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.name,expression:"detailHome.name"}],staticClass:"form-control",attrs:{type:"text",id:"full-name"},domProps:{value:t.detailHome.name},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"name",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"email-address"}},[t._v("Địa chỉ")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.address,expression:"detailHome.address"}],staticClass:"form-control",attrs:{type:"text",id:"email-address",placeholder:t.detailHome.address},domProps:{value:t.detailHome.address},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"address",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone-no"}},[t._v("Giá ")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.price,expression:"detailHome.price"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.detailHome.price,id:"phone-no"},domProps:{value:t.detailHome.price},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"price",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone-no"}},[t._v("Diện tích ")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.area,expression:"detailHome.area"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.detailHome.area,id:"phone-no"},domProps:{value:t.detailHome.area},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"area",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone-no"}},[t._v("Nhà Ga ")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.line,expression:"detailHome.line"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.detailHome.lat_map,id:"phone-no"},domProps:{value:t.detailHome.line},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"line",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone-no"}},[t._v("Năm xây ")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.nam_xay,expression:"detailHome.nam_xay"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.detailHome.long_map,id:"phone-no"},domProps:{value:t.detailHome.nam_xay},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"nam_xay",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone-no"}},[t._v("Vĩ độ ")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.lat_map,expression:"detailHome.lat_map"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.detailHome.lat_map,id:"phone-no"},domProps:{value:t.detailHome.lat_map},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"lat_map",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone-no"}},[t._v("Kinh độ ")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.long_map,expression:"detailHome.long_map"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.detailHome.long_map,id:"phone-no"},domProps:{value:t.detailHome.long_map},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"long_map",a.target.value)}}})])])]),t.positon?a("div",[a("GmapMap",{staticStyle:{width:"100%",height:"600px"},attrs:{center:t.positon.position,zoom:13,"map-type-id":"terrain"}},[a("GmapMarker",{attrs:{position:t.positon.position,clickable:!0,draggable:!0,icon:"http://157.230.27.124:2021/favicon.png"},on:{click:function(a){t.center=t.positon.position}}})],1)],1):t._e()]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone-no"}},[t._v("Khu vực")]),a("div",{staticClass:"form-control-wrap"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.province_id,expression:"detailHome.province_id"}],staticClass:"form-control",on:{change:[function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.detailHome,"province_id",a.target.multiple?e:e[0])},function(a){return t.onChange()}]}},t._l(t.proviceOptions,(function(e,o){return a("option",{key:o,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone-no"}},[t._v("Thành phố")]),a("div",{staticClass:"form-control-wrap"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.city_id,expression:"detailHome.city_id"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.detailHome,"city_id",a.target.multiple?e:e[0])}}},t._l(t.cityOptions,(function(e,o){return a("option",{key:o,domProps:{value:e.id}},[t._v(t._s(e.name))])})),0)])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"phone-no"}},[t._v("Khuyến mại")]),a("div",{staticClass:"form-control-wrap"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.khuyenmai,expression:"detailHome.khuyenmai"}],staticClass:"form-control",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.detailHome,"khuyenmai",a.target.multiple?e:e[0])}}},[t._l(t.list_khuyen_mai,(function(e,o){return a("option",{key:o,domProps:{value:e.id}},[t._v(t._s(e.content))])})),a("option",{attrs:{value:"0"}},[t._v("không có khuyến mại")])],2)])]),t._m(1),a("div",{staticClass:"row g-4"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("Giao Thông")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.gia_thong,expression:"detailHome.gia_thong"}],staticClass:"form-control",attrs:{type:"text",id:"pay-amount"},domProps:{value:t.detailHome.gia_thong},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"gia_thong",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("Đậu xe")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.dau_xe,expression:"detailHome.dau_xe"}],staticClass:"form-control",attrs:{type:"text",id:"pay-amount"},domProps:{value:t.detailHome.dau_xe},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"dau_xe",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("Tiền cọc")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.tien_coc,expression:"detailHome.tien_coc"}],staticClass:"form-control",attrs:{type:"text",id:"pay-amount"},domProps:{value:t.detailHome.tien_coc},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"tien_coc",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("Tòa nhà ( Tầng)")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.toa_tang,expression:"detailHome.toa_tang"}],staticClass:"form-control",attrs:{type:"text",id:"pay-amount"},domProps:{value:t.detailHome.toa_tang},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"toa_tang",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("THông tin 1")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.thongtin_1,expression:"detailHome.thongtin_1"}],staticClass:"form-control",attrs:{type:"text",id:"pay-amount"},domProps:{value:t.detailHome.thongtin_1},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"thongtin_1",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("THông tin 2")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.thongtin_2,expression:"detailHome.thongtin_2"}],staticClass:"form-control",attrs:{type:"text",id:"pay-amount"},domProps:{value:t.detailHome.thongtin_2},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"thongtin_2",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("THông tin 3")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.thongtin_3,expression:"detailHome.thongtin_3"}],staticClass:"form-control",attrs:{type:"text",id:"pay-amount"},domProps:{value:t.detailHome.thongtin_3},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"thongtin_3",a.target.value)}}})])])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("THông tin 4")]),a("div",{staticClass:"form-control-wrap"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.detailHome.thongtin_4,expression:"detailHome.thongtin_4"}],staticClass:"form-control",attrs:{type:"text",id:"pay-amount"},domProps:{value:t.detailHome.thongtin_4},on:{input:function(a){a.target.composing||t.$set(t.detailHome,"thongtin_4",a.target.value)}}})])])])]),a("div",[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("Ảnh đại diện")]),a("div",{staticClass:"form-control-wrap"},[a("img",{attrs:{src:t.detailHome.images}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label",attrs:{for:"customFileLabel"}},[t._v("Đổi ảnh")]),a("div",{staticClass:"form-control-wrap"},[a("div",{staticClass:"form-file"},[a("input",{staticClass:"form-file-input",attrs:{type:"file",id:"customFile"},on:{change:t.onChangeFileUpload}}),t._v(" "),a("label",{staticClass:"form-file-label",attrs:{for:"customFile"}},[t._v("Đổi ảnh")])])])])]),a("div",{staticClass:"row g-gs"},[a("label",{staticClass:"form-label",attrs:{for:"pay-amount"}},[t._v("danh sách ảnh ")]),t._m(2),t._l(t.listimage,(function(e,o){return a("div",{key:o,staticClass:"col-sm-6 col-lg-4"},[a("img",{attrs:{src:e}}),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-control-wrap"},[a("li",{on:{click:function(a){return t.deleteImage(e)}}},[t._m(3,!0)])])])])}))],2),a("div",{staticClass:"form-group"},[a("button",{staticClass:"btn btn-lg btn-primary",on:{click:function(a){return t.saveBuild()}}},[t._v("Tạo mới")])])])])])])},s=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"card-head"},[a("h5",{staticClass:"card-title"},[t._v("Thông tin căn nhà")])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"form-group"},[a("label",{staticClass:"form-label"},[t._v("Kiểu phòng ")]),a("ul",{staticClass:"custom-control-group g-3 align-center"},[a("li",[a("div",{staticClass:"custom-control custom-control-sm custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"com-email"}}),a("label",{staticClass:"custom-control-label",attrs:{for:"com-email"}},[t._v(" 1R")])])]),a("li",[a("div",{staticClass:"custom-control custom-control-sm custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"com-sms"}}),a("label",{staticClass:"custom-control-label",attrs:{for:"com-sms"}},[t._v(" 1K-1DK-1LDK")])])]),a("li",[a("div",{staticClass:"custom-control custom-control-sm custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"com-phone"}}),a("label",{staticClass:"custom-control-label",attrs:{for:"com-phone"}},[t._v("2K-2DK-3LDK")])])]),a("li",[a("div",{staticClass:"custom-control custom-control-sm custom-checkbox"},[a("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",id:"com-phone"}}),a("label",{staticClass:"custom-control-label",attrs:{for:"com-phone"}},[t._v(" 3K-3DK-3LDK")])])])])])},function(){var t=this,a=t._self._c;return a("div",{staticClass:"form-file"},[a("input",{staticClass:"form-file-input",attrs:{type:"file",id:"customFile"}}),t._v(" "),a("label",{staticClass:"form-file-label",attrs:{for:"customFile"}},[t._v("Thêm ảnh mới")])])},function(){var t=this,a=t._self._c;return a("a",{attrs:{href:"javascript:void(0);"}},[a("em",{staticClass:"icon ni ni-trash"}),a("span",[t._v("Xóa")])])}],i=(e("14d9"),e("87ea")),l=e("bbca"),n=e("40c1"),r=e("79fa"),c=(e("ef08"),{name:"detailService",components:{},data(){return{change:!1,id:null,listimage:[],detailHome:{address:"",along_id:0,area:"",city_id:0,dau_xe:"",detail_id:"",gia_thong:"",images:"",khuyenmai:0,lat_map:"",line:"",list_img_url:"",long_map:"",nam_xay:"",name:"",phi_dich_vu:"",date:"defaul",phone:"",price:"",province_id:0,real_id:"",status:1,thongtin_1:"",thongtin_2:"",thongtin_3:"",thongtin_4:"",tien_coc:"",toa_tang:"",web:""},detailCopy:{},proviceOptions:[],cityOptions:[],list_khuyen_mai:[],data:[],positon:!1}},components:{NoData:l["a"]},mounted(){this.getlistProvince(),this.getListKhuyenmai()},methods:{getToken:n["b"],onChange(t){this.getListCity(this.detailHome.province_id)},deleteImage(t){this.listimage=this.listimage.filter(a=>a!=t),this.change=!0},saveBuild(){if(!this.detailHome.address||!this.detailHome.area||!this.detailHome.price)return this.$awnAlert("Thieu thongtin");this.$confirm(this.$i18n.t("home.title_change",{code:"name"}),r["a"].t("home.please_confirm"),{icon:"warning",confirmButtonColor:"#1ee0ac",cancelButtonColor:"#d33",cancelButtonText:r["a"].t("button.cancel"),confirmButtonText:r["a"].t("button.confirm")}).then(({value:t})=>{if(t){let t={mod:"add",list:[this.detailHome]};this.$store.dispatch("Home/addBuilding2",t).then(t=>{0===t.code&&t.success&&(this.$awnSuccess("tạo thành công"),this.$router.push({path:"/nha-thue/detail/"+t.data}))}).catch(t=>{this.setFormError(t)}).finally(()=>{})}})},getlistProvince(){this.$store.dispatch("Home/listProvice").then(t=>{0===t.code&&t.success&&(this.proviceOptions=t.data)}).catch(t=>{this.setFormError(t)}).finally(()=>{})},getListCity(t){let a={id:t};this.$store.dispatch("Home/listCity",a).then(t=>{0===t.code&&t.success&&(this.cityOptions=t.data)}).catch(t=>{this.setFormError(t)}).finally(()=>{})},getListKhuyenmai(){this.$store.dispatch("Home/getlistKhuyenmai").then(t=>{0===t.code&&t.success&&(this.list_khuyen_mai=t.data)}).catch(t=>{this.setFormError(t)}).finally(()=>{})},async uploadFile(t){let a=new FormData;a.append("single",t);const e=this;return new Promise((o,s)=>{if(t.size>2097152)s({code:507});else{let t=new XMLHttpRequest;t.open("POST","http://157.230.27.124:2021/apiupload",!0),console.log("token ",this.getToken()),t.setRequestHeader("Authorization","Bearer "+this.getToken()),t.onreadystatechange=function(){if(4!==this.readyState&&s({code:500}),200!==this.status)s({code:500});else{const t=JSON.parse(this.responseText);t&&0==t.code?(e.$awnSuccess(e.$t("dialog.update_avatar_success")),e.hideModal(),o(t.data)):(507===t.code?e.$awnAlert(e.$t("message.size_too_big")):(e.$awnAlert(e.$t("dialog.error")),e.hideModal()),s({code:500}))}},t.send(a)}})},async onChangeFileUpload(t){this.uploadFile(t.target.files[0]);var a=t.target;if(a.files){var e=new FileReader;e.onload=t=>{this.detailHome.images=t.target.result},e.readAsDataURL(a.files[0])}}},computed:{lang(){return Object(i["e"])()}},watch:{}}),m=c,d=e("2877"),p=Object(d["a"])(m,o,s,!1,null,"04d15fda",null);a["default"]=p.exports}}]);