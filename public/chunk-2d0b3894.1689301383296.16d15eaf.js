(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b3894"],{2990:function(t,n,i){"use strict";i.r(n);var e=function(){var t=this,n=t._self._c;return n("div",{staticClass:"nk-content nk-content-fluid"},[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.khuyenmaimoi,expression:"khuyenmaimoi"}],domProps:{value:t.khuyenmaimoi},on:{input:function(n){n.target.composing||(t.khuyenmaimoi=n.target.value)}}}),n("a",{staticClass:"toggle btn btn-primary d-none d-md-inline-flex",attrs:{href:"javascript:void(0)","data-target":"addProduct"},on:{click:function(n){return t.addCity()}}},[n("em",{staticClass:"icon ni ni-plus"}),n("span",[t._v("Thêm Khuyen mai")])])]),n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"nk-content nk-content-fluid pt-0"},[n("div",{staticClass:"container-xl wide-lg"},[n("div",{staticClass:"nk-tb-list"},[t._m(0),t._l(t.list_khuyen_mai,(function(i,e){return n("div",{key:e,staticClass:"nk-tb-item"},[n("div",{staticClass:"nk-tb-col tb-col-sm"},[n("span",[t._v(t._s(i.id))])]),n("div",{staticClass:"nk-tb-col"},[n("span",[t._v(t._s(i.content))])]),n("div",{staticClass:"nk-tb-col"},[n("input",{directives:[{name:"model",rawName:"v-model",value:i.content2,expression:"item.content2"}],attrs:{placeholder:i.content},domProps:{value:i.content2},on:{input:function(n){n.target.composing||t.$set(i,"content2",n.target.value)}}})]),n("div",{staticClass:"nk-tb-col nk-tb-col-tools"},[n("ul",{staticClass:"nk-tb-actions gx-1 my-n1"},[n("li",{staticClass:"mr-n1"},[n("div",{staticClass:"dropdown"},[t._m(1,!0),n("div",{staticClass:"dropdown-menu dropdown-menu-right"},[n("ul",{staticClass:"link-list-opt no-bdr"},[n("li",{on:{click:function(n){return t.deleteCty(i.id)}}},[t._m(2,!0)]),n("li",{on:{click:function(n){return t.suaten(i.id,i.content2)}}},[t._m(3,!0)])])])])])])])])}))],2)])])])])},a=[function(){var t=this,n=t._self._c;return n("div",{staticClass:"nk-tb-item nk-tb-head"},[n("div",{staticClass:"nk-tb-col tb-col-sm"},[n("span",[t._v("Id")])]),n("div",{staticClass:"nk-tb-col"},[n("span",[t._v("Nội dung Khuyến mại")])]),n("div",{staticClass:"nk-tb-col"},[n("span",[t._v("Chỉnh sửa")])])])},function(){var t=this,n=t._self._c;return n("a",{staticClass:"dropdown-toggle btn btn-icon btn-trigger",attrs:{href:"#","data-toggle":"dropdown"}},[n("em",{staticClass:"icon ni ni-more-h"})])},function(){var t=this,n=t._self._c;return n("a",{attrs:{href:"javascript:void(0);"}},[n("em",{staticClass:"icon ni ni-trash"}),n("span",[t._v("Xóa")])])},function(){var t=this,n=t._self._c;return n("a",{attrs:{href:"javascript:void(0);"}},[n("em",{staticClass:"icon ni ni-edit"}),n("span",[t._v(" Sửa nội dung")])])}],s=(i("14d9"),i("87ea")),o=i("bbca"),c=i("79fa"),l={name:"detailService",data(){return{change:!1,id:null,khuyenmaimoi:"",new_khuyenmai:"",list_khuyen_mai:[]}},components:{NoData:o["a"]},mounted(){this.getListKhuyenmai()},methods:{getListKhuyenmai(){this.$store.dispatch("Home/getlistKhuyenmai").then(t=>{0===t.code&&t.success&&(this.list_khuyen_mai=t.data.map(t=>(t.content2=t.content,t)))}).catch(t=>{this.setFormError(t)}).finally(()=>{})},addCity(){if(!this.khuyenmaimoi)return this.$awnAlert("Thêm nội dung khuyến mại");this.$store.dispatch("Home/addKhuyenmai",{mod:"add",content:this.khuyenmaimoi}).then(t=>{0===t.code&&t.success&&(this.$awnSuccess("thêm Thành công"),this.list_khuyen_mai.push({id:this.list_khuyen_mai.length+1,content:this.khuyenmaimoi}))}).catch(t=>{this.setFormError(t)}).finally(()=>{})},deleteCty(t){this.$confirm(this.$i18n.t("home.title_change",{code:"name"}),c["a"].t("home.please_confirm"),{icon:"warning",confirmButtonColor:"#1ee0ac",cancelButtonColor:"#d33",cancelButtonText:c["a"].t("button.cancel"),confirmButtonText:c["a"].t("button.confirm")}).then(({value:n})=>{if(n){let n={mod:"delete",id:t};this.$store.dispatch("Home/updateKhuyenmai",n).then(n=>{0===n.code&&n.success&&(this.list_khuyen_mai=this.list_khuyen_mai.filter(n=>n.id!=t))}).catch(t=>{this.setFormError(t)}).finally(()=>{this.requestLoading=!1})}})},suaten(t,n){this.$confirm(this.$i18n.t("home.title_change",{code:"name"}),c["a"].t("home.please_confirm"),{icon:"warning",confirmButtonColor:"#1ee0ac",cancelButtonColor:"#d33",cancelButtonText:c["a"].t("button.cancel"),confirmButtonText:c["a"].t("button.confirm")}).then(({value:i})=>{if(i){let i={mod:"update",id:t,content:n};this.$store.dispatch("Home/updateKhuyenmai",i).then(n=>{0===n.code&&n.success&&(this.list_khuyen_mai=this.list_khuyen_mai.map(n=>n.id!=t))}).catch(t=>{this.setFormError(t)}).finally(()=>{this.requestLoading=!1})}})}},computed:{lang(){return Object(s["e"])()}},watch:{}},r=l,d=i("2877"),u=Object(d["a"])(r,e,a,!1,null,"b0bb102a",null);n["default"]=u.exports}}]);